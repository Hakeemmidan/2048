{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./public/javascripts/background.js","webpack:///./public/javascripts/cell.js","webpack:///./public/javascripts/game.js","webpack:///./public/javascripts/index.js","webpack:///./public/javascripts/input.js"],"names":["Background","game","cellHeight","gameHeight","padding","ctx","gridLimit","increment","col","row","beginPath","rect","fillStyle","fill","Cell","id","location","value","position","x","y","maxSpeed","speed","movementAxis","backgroundColors","fontColors","fillRect","font","fillText","String","cell","bottom","top","left","right","topColided","bottomColided","rightColided","leftColided","mergeCells","Object","values","isCollided","deltaTime","Game","allLocations","generateAllLocations","gameStaticObjects","gameMovingObjects","currentScore","bestScore","push","Math","random","toString","substr","cname","cvalue","exdays","d","Date","setTime","getTime","document","cookie","split","forEach","background","yesCellLocations","map","noCellLocations","filter","loc","JSON","stringify","includes","randomLocation","parseInt","length","randomValueArr","randomValue","that","setTimeout","generateRandomLocation","generateCellId","newCell","InputHandler","unwantedElementIdx","i","splice","cell1","cell2","deleteCellById","object1","j","undefined","object2","checkCollusion","setCookie","object","update","currentScoreCtx","bestScoreCtx","calculateCurrentScore","getBestScoreFromCookie","draw","addEventListener","canvas","getElementById","getContext","currentScoreCanvas","bestScoreCanvas","GAME_HEIGHT","CELL_HEIGHT","clearRect","start","addCell","e","repeat","indexOf","keyCode","preventDefault","lastTime","gameLoop","timeStamp","requestAnimationFrame","moveUp","moveRight","moveDown","moveLeft"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./public/javascripts/index.js\");\n","export class Background {\n    constructor(game) {\n        this.cellHeight = game.cellHeight\n        this.gameHeight = game.gameHeight\n        this.padding = game.padding\n    }\n\n    draw(ctx) {\n        const gridLimit = this.gameHeight\n        const increment = this.cellHeight + this.padding\n\n        for (let col = 0; col <= gridLimit; col += increment) {\n            for (let row = 0; row <= gridLimit; row += increment) {\n                    ctx.beginPath()\n                    ctx.rect(row, col, this.cellHeight, this.cellHeight)\n                    ctx.fillStyle = '#1876b5'\n                    ctx.fill()\n            }\n        }\n    }\n\n}","export class Cell {\n    constructor(id, game, location, value) {\n        this.id = id\n        this.cellHeight = game.cellHeight\n        this.gameHeight = game.gameHeight\n        this.padding = game.padding\n        this.position = {\n            x: location[0],\n            y: location[1]\n        }\n        this.game = game\n        this.value = value\n        this.maxSpeed = 70\n        this.speed = 0\n        this.movementAxis = 'x'\n        this.backgroundColors = {\n            2: '#a7d3fa',\n            4: '#82c2fa',\n            8: '#ffa500',\n            16: '#ff8400',\n            32: '#e36200',\n            64: '#bf0000',\n            128: '#e8dd4a',\n            256: '#bf8104',\n            512: '#ff009d',\n            1024: '#fc0061',\n            2048: '#fa0000'\n\n        }\n        this.fontColors = {\n            2: '#1876b5',\n            4: '#1876b5'\n        }\n    }\n\n    draw(ctx) {\n        ctx.fillStyle = this.value > 2048 ? '#000000' : this.backgroundColors[this.value]\n        ctx.fillRect(this.position.x, this.position.y, this.cellHeight, this.cellHeight)\n        ctx.font = '60px sans-serif'\n        ctx.fillStyle = this.value > 4 ? '#ffffff' : this.fontColors[this.value]\n        if (this.value < 10) {\n            ctx.fillText(String(this.value), this.position.x + 40, this.position.y + 80)\n        } else if (this.value >= 10 && this.value < 100) {\n            ctx.fillText(String(this.value), this.position.x + 23, this.position.y + 80)\n        } else if (this.value >= 100 && this.value < 1000) {\n            ctx.fillText(String(this.value), this.position.x + 9, this.position.y + 80)\n        } else if (this.value >= 1000 && this.value < 10000) {\n            ctx.font = '48px sans-serif'\n            ctx.fillText(String(this.value), this.position.x + 5, this.position.y + 80)\n        }\n    }\n    \n    get top() { return this.position.y }\n    get right() { return this.position.x + this.cellHeight }\n    get bottom() { return this.position.y + this.cellHeight }\n    get left() { return this.position.x }\n\n    checkCollusion(cell) {\n        if (\n            this.bottom < cell.top\n            || this.left > cell.right\n            || this.top > cell.bottom\n            || this.right < cell.left) {\n                this.topColided = false\n                this.bottomColided = false\n                this.rightColided = false\n                this.leftColided = false\n            return false\n        } else {\n            // top to bottom\n            if (cell.speed < 0 && cell.movementAxis === 'y' && this.value === cell.value) {\n                this.game.mergeCells(this, cell, Object.values(this.position))\n            }\n            else if (this.speed < 0 && this.movementAxis === 'y' && this.value === cell.value) {\n                this.game.mergeCells(this, cell, Object.values(cell.position))\n            }\n            else if (this.speed < 0 && this.movementAxis === 'y') {\n                this.topColided = true\n                this.speed = 0\n                this.position['y'] = cell.position.y + this.padding + this.cellHeight\n            }\n            else if (cell.speed < 0 && cell.movementAxis === 'y') {\n                cell.topColided = true\n                cell.speed = 0\n                cell.position['y'] = this.position.y + cell.padding + cell.cellHeight\n            }\n\n            // bottom to top\n            else if (this.speed > 0 && this.movementAxis === 'y' && this.value === cell.value) {\n                this.game.mergeCells(this, cell, Object.values(cell.position))\n            }\n            else if (cell.speed > 0 && cell.movementAxis === 'y' && this.value === cell.value) {\n                this.game.mergeCells(this, cell, Object.values(this.position))\n            }\n            else if (cell.speed > 0 && cell.movementAxis === 'y') {\n                cell.bottomColided = true\n                cell.speed = 0\n                cell.position['y'] = this.position.y - cell.padding - cell.cellHeight\n            }\n            else if (this.speed > 0 && this.movementAxis === 'y') {\n                this.bottomColided = true\n                this.speed = 0\n                this.position['y'] = cell.position.y - this.padding - this.cellHeight\n            }\n\n            // left to right\n            else if (this.speed > 0 && this.movementAxis === 'x' && this.value === cell.value) {\n                this.game.mergeCells(this, cell, Object.values(cell.position))\n            }\n            else if (cell.speed > 0 && cell.movementAxis === 'x' && this.value === cell.value) {\n                this.game.mergeCells(this, cell, Object.values(this.position))\n            }\n            else if (this.speed > 0 && this.movementAxis === 'x') {\n                this.rightColided = true\n                this.speed = 0\n                this.position['x'] = cell.position.x - this.padding - this.cellHeight\n            }\n            else if (cell.speed > 0 && cell.movementAxis === 'x') {\n                cell.rightColided = true\n                cell.speed = 0\n                cell.position['x'] = this.position.x - cell.padding - cell.cellHeight\n            }\n\n\n            // right to left\n            else if (this.speed < 0 && this.movementAxis === 'x' && this.value === cell.value) {\n                this.game.mergeCells(this, cell, Object.values(cell.position))\n            }\n            else if (cell.speed < 0 && cell.movementAxis === 'x' && this.value === cell.value) {\n                this.game.mergeCells(this, cell, Object.values(this.position))\n            }\n            else if (this.speed < 0 && this.movementAxis === 'x') {\n                this.leftColided = true\n                this.speed = 0\n                this.position['x'] = cell.position.x + this.padding + this.cellHeight\n            }\n            else if (cell.speed < 0 && cell.movementAxis === 'x') {\n                cell.leftColided = true\n                cell.speed = 0\n                cell.position['x'] = this.position.x + cell.padding + cell.cellHeight\n            }\n\n            this.isCollided = true\n            return true\n        }\n    }\n\n    update(deltaTime) {\n        if (!deltaTime) return\n        this.position[this.movementAxis] += this.speed\n        if (this.position.x < 0) {\n            this.speed = 0\n            this.position.x = 0\n        } else if (this.position.x > this.gameHeight - this.cellHeight - this.padding ) {\n            this.speed = 0\n            this.position.x = this.gameHeight - this.cellHeight - this.padding\n        } else if (this.position.y < 0) {\n            this.speed = 0\n            this.position.y = 0\n        } else if (this.position.y > this.gameHeight - this.cellHeight - this.padding) {\n            this.speed = 0\n            this.position.y = this.gameHeight - this.cellHeight - this.padding\n        }\n    }\n\n    moveRight() {\n        if (this.speed != 0) return\n        // if (this.rightColided) return\n        this.movementAxis = 'x'\n        this.speed = this.maxSpeed\n    }\n\n    moveLeft() {\n        if (this.speed != 0) return\n        // if (this.leftColided) return\n        this.movementAxis = 'x'\n        this.speed = -this.maxSpeed\n    }\n\n    moveUp() {\n        if (this.speed != 0) return\n        // if (this.topColided) return\n        this.movementAxis = 'y'\n        this.speed = -this.maxSpeed // Because canvas axis go from the top left of screen\n    }\n\n    moveDown() {\n        if (this.speed != 0) return\n        // if (this.bottomColided) return\n        this.movementAxis = 'y'\n        this.speed = this.maxSpeed\n    }\n}","import { Background } from './background';\nimport { Cell } from './cell';\nimport { InputHandler } from './input';\n\nexport class Game {\n    constructor(gameHeight, cellHeight, padding) {\n        this.cellHeight = cellHeight\n        this.gameHeight = gameHeight\n        this.padding = padding\n        \n        this.allLocations = this.generateAllLocations()\n        this.gameStaticObjects = []\n        this.gameMovingObjects = []\n        this.currentScore = 0\n        this.bestScore = 0\n    }\n\n    generateAllLocations() {\n        // Generates all the locations where a cell can park\n        const gridLimit = this.gameHeight + this.cellHeight\n        const increment = this.cellHeight + this.padding\n        const allLocations = [];\n\n        for (let col = 0; col < gridLimit - increment; col += increment) {\n            for (let row = 0; row < gridLimit - increment; row += increment) {\n                allLocations.push([row, col])\n            }\n        }\n\n        return allLocations\n    }\n\n    // Source : https://gist.github.com/gordonbrander/2230317\n    generateCellId() {\n    return '_' + Math.random().toString(36).substr(2, 9);\n    };\n\n    // Inspired by : https://www.w3schools.com/js/js_cookies.asp\n    setCookie(cname, cvalue, exdays) {\n        var d = new Date();\n        d.setTime(d.getTime() + (exdays));\n        document.cookie = cname + \"=\" + cvalue;\n    }\n\n    getBestScoreFromCookie() {\n        this.bestScore = document.cookie.split('=')[0] === 'bestScore' ? document.cookie.split('=')[1] : 0\n    }\n\n    calculateCurrentScore() {\n        this.currentScore = 0\n        this.gameMovingObjects.forEach( cell => {\n            this.currentScore += cell.value\n        })\n    }\n\n    start() {\n        this.background = new Background(this)\n        this.gameStaticObjects.push(this.background)\n    }\n\n    // VVVVVVVVVV adding, deleting, and merging cells END VVVVVVVVVV //\n    generateRandomLocation() {\n        const yesCellLocations = this.gameMovingObjects.map(cell => Object.values(cell.position))\n        const noCellLocations = this.allLocations.filter(loc => !JSON.stringify(yesCellLocations).includes(JSON.stringify(loc)))\n        // Used JSON.stringify b/c JS arrays don't use Arraay#inclues as expected\n        let randomLocation = noCellLocations[parseInt(Math.random() * noCellLocations.length)]\n        return randomLocation\n    }\n    \n    addCell() {\n        const randomValueArr = [2, 4]\n        const randomValue = randomValueArr[parseInt(Math.random() * randomValueArr.length)]\n        const that = this\n        setTimeout(() => {\n            let randomLocation = that.generateRandomLocation()\n            const id = this.generateCellId()\n            let newCell = new Cell(id, that, randomLocation, randomValue)\n            that.gameMovingObjects.push(newCell)\n            new InputHandler(newCell)\n        }, 100);\n    }\n\n    deleteCellById(id) {\n        let unwantedElementIdx = -1\n        for (let i = 0; i < this.gameMovingObjects.length; i++) {\n            if (this.gameMovingObjects[i].id === id) {\n                unwantedElementIdx = i\n                break\n            }\n        }\n        if (unwantedElementIdx === -1) return 'Not found'\n        this.gameMovingObjects.splice(unwantedElementIdx, 1)\n        return 'Deleted!'\n    }\n\n    mergeCells(cell1, cell2, location) {\n        const id = this.generateCellId()\n        const newCell = new Cell(id, this, location, cell1.value + cell2.value)\n        this.gameMovingObjects.push(newCell)\n        new InputHandler(newCell)\n        // Delete old cells\n        this.deleteCellById(cell1.id)\n        this.deleteCellById(cell2.id)\n    }\n    // ^^^^^^^^^^ adding, deleting, and merging cells END ^^^^^^^^^^ //\n// ---------------------------------------------------------------------------------------- //\n    // VVVVVVVVVV draw and update START VVVVVVVVVV //\n    update(deltaTime) {\n        for (let i = 0; i < this.gameMovingObjects.length; i++) {\n            const object1 = this.gameMovingObjects[i]\n            for (let j = 0; j < this.gameMovingObjects.length; j++) {\n                if (this.gameMovingObjects[i] === undefined || this.gameMovingObjects[j] === undefined) {\n                    continue                    \n                }\n                if (!((this.gameMovingObjects[i].id) === this.gameMovingObjects[j].id)) {\n                    const object2 = this.gameMovingObjects[j]\n                    object1.checkCollusion(object2)\n                }\n            }\n        }\n\n        if (this.currentScore > this.bestScore) {\n            this.setCookie('bestScore', this.currentScore, 30)\n        }\n\n        this.gameMovingObjects.forEach(object => object.update(deltaTime))\n    }\n\n    draw(ctx, currentScoreCtx, bestScoreCtx) {\n        currentScoreCtx.fillStyle = '#1876b5'\n        currentScoreCtx.fillRect(0, 0, 50, 50)\n        currentScoreCtx.font = '22px sans-serif'\n        currentScoreCtx.fillStyle = '#ffffff'\n        this.calculateCurrentScore()\n\n        if (this.currentScore < 10) {\n            currentScoreCtx.fillText(String(this.currentScore), 19, 20)\n        } else if (this.currentScore >= 10 && this.currentScore < 100) {\n            currentScoreCtx.fillText(String(this.currentScore), 12, 20)\n        } else if (this.currentScore >= 100 && this.currentScore < 1000) {\n            currentScoreCtx.fillText(String(this.currentScore), 7, 20)\n        } else if (this.currentScore >= 1000) {\n            currentScoreCtx.fillText(String(this.currentScore), 0, 20)\n        }\n\n        bestScoreCtx.fillStyle = '#1876b5'\n        bestScoreCtx.fillRect(0, 0, 80, 50)\n        bestScoreCtx.font = '22px sans-serif'\n        bestScoreCtx.fillStyle = '#ffffff'\n        this.getBestScoreFromCookie()\n\n        if (this.bestScore < 10) {\n            bestScoreCtx.fillText(String(this.bestScore), 27, 20)\n        } else if (this.bestScore >= 10 && this.bestScore < 100) {\n            bestScoreCtx.fillText(String(this.bestScore), 20, 20)\n        } else if (this.bestScore >= 100 && this.bestScore < 1000) {\n            bestScoreCtx.fillText(String(this.bestScore), 15, 20)\n        } else if (this.bestScore >= 1000) {\n            bestScoreCtx.fillText(String(this.bestScore), 9.5, 20)\n        }\n\n        this.gameStaticObjects.forEach( object => object.draw(ctx) )\n        this.gameMovingObjects.forEach( object => object.draw(ctx) )\n    }\n    // ^^^^^^^^^^ draw and update END ^^^^^^^^^^ //\n    // ---------------------------------------------------------------------------------------- //\n}","import { Game } from './game';\n\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    const canvas = document.getElementById('game-canvas')\n    let ctx = canvas.getContext('2d')\n\n    const currentScoreCanvas = document.getElementById('current-score-value-canvas')\n    const currentScoreCtx = currentScoreCanvas.getContext('2d')\n\n    const bestScoreCanvas = document.getElementById('best-score-value-canvas')\n    const bestScoreCtx = bestScoreCanvas.getContext('2d')\n\n    \n    const padding = 10\n    const GAME_HEIGHT = 500\n    const CELL_HEIGHT = (GAME_HEIGHT / 4) - padding\n    ctx.clearRect(0, 0, GAME_HEIGHT, GAME_HEIGHT)\n    \n    let game = new Game(GAME_HEIGHT, CELL_HEIGHT, padding)\n    game.start()\n    game.addCell()\n\n    document.getElementById('new-game-button').addEventListener('click', () => {\n        ctx.clearRect(0, 0, GAME_HEIGHT, GAME_HEIGHT)\n        currentScoreCtx.clearRect(0, 0, 65, 50)\n        bestScoreCtx.clearRect(0, 0, 80, 50)\n        game.currentScore = 0\n        game.gameMovingObjects = []\n        game.start()\n        game.addCell()\n    })\n\n    // Disable arrow key scrolling\n    // Source : https://stackoverflow.com/a/8916697/7974948\n    document.addEventListener(\"keydown\", function (e) {\n        if (e.repeat) return\n        if ([37, 38, 39, 40].indexOf(e.keyCode) > -1) {\n            e.preventDefault();\n            game.addCell();\n        }\n    }, false);\n\n    // Add cell on-click of AWSD as well\n    document.addEventListener(\"keydown\", function (e) {\n        if ([87, 65, 83, 68].indexOf(e.keyCode) > -1) {\n            if (e.repeat) return\n            game.addCell();\n        }\n    }, false);\n    \n    let lastTime = 0;\n    function gameLoop(timeStamp) {\n        let deltaTime = timeStamp - lastTime\n        lastTime = timeStamp\n        currentScoreCtx.clearRect(0, 0, 65, 50)\n        bestScoreCtx.clearRect(0, 0, 80, 50)\n        ctx.clearRect(0, 0, GAME_HEIGHT, GAME_HEIGHT)\n    \n        game.update(deltaTime)\n        game.draw(ctx, currentScoreCtx, bestScoreCtx)\n\n        requestAnimationFrame(gameLoop)\n    }\n\n    gameLoop()\n})","export class InputHandler {\n    constructor(cell) {\n        document.addEventListener('keydown', (e) => {\n            if ([37, 38, 39, 40].indexOf(e.keyCode) > -1) {\n                e.preventDefault();\n            }\n            if (e.repeat) return\n            switch (e.keyCode) {\n                case 38:\n                case 87:\n                    cell.moveUp()\n                    break;\n                case 39:\n                case 68:\n                    cell.moveRight()\n                    break;\n                case 40:\n                case 83:\n                    cell.moveDown()\n                    break;\n                case 37:\n                case 65:\n                    cell.moveLeft()\n                    break;\n                default:\n                    break;\n            }\n        })\n    }\n}"],"sourceRoot":""}